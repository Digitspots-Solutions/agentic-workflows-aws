VPC Network Security Standard
Digitspots AI Competency Submission
Document Version: 2.0
Last Updated: January 12, 2026
Owner: Digitspots Cloud Operations Team
Applies To: LAUTECH AWS Account (NETSEC-001)

REQUIREMENT:
Establish internal processes regarding how to secure traffic within VPC, including Security Groups (Internet-to-VPC and Intra-VPC), Network ACLs, and other security services.

Executive Summary
Digitspots employs a "Defense in Depth" network strategy for all customer environments. For the LAUTECH implementation, we strictly isolate persistence layers from the public internet using a tiered VPC architecture enforced by Security Groups and Network ACLs.

1. Security Group Strategy (Stateful)
Our SOP mandates the use of minimal-scope Security Groups (SGs).

*   **1.1 Internet-to-VPC (DMZ)**:
    *   **ALB SG**: Only permits inbound traffic on ports 80/443 from `0.0.0.0/0`.
    *   All other inbound ports (SSH, RDP, Database) are BLOCKED from the internet.
*   **1.2 Intra-VPC (Zero Trust)**:
    *   **ECS SG**: Only accepts inbound traffic on port 8501 (Streamlit) from the **ALB SG**. It does NOT accept traffic from the subnet CIDR.
    *   **RDS SG**: Only accepts inbound traffic on port 5432 (PostgreSQL) from the **ECS SG**.
    *   **Self-Reference**: SGs referencing other SGs (instead of CIDRs) prevents IP spoofing and decouples security from network topology.

2. Network ACL Strategy (Stateless)
We utilize NACLs as a coarse-grained subnet boundary firewall.
*   **Public Subnets**: Allow HTTP/HTTPS inbound from `0.0.0.0/0`.
*   **Private Subnets**: Deny all default inbound traffic from `0.0.0.0/0`. Only allow return traffic from NAT Gateway.
*   **Blacklisting**: We reserve NACL rules 10-99 for blocking known malicious IPs or botnets attacking the university portal.

3. Other Security Services
*   **AWS Systems Manager (SSM)**: We use Session Manager for administrative access to any future EC2 instances, eliminating the need for open SSH (Port 22).
*   **VPC Flow Logs**: Enabled to capture accepted/rejected traffic for forensic analysis (integrated with CloudTrail).

4. Implementation Evidence
*   **Code Reference**: `setup/setup_rds.py`
    *   *Line 138*: `ec2.authorize_security_group_ingress` demonstrates SG-chaining logic (ECS SG -> RDS SG).
*   **Code Reference**: `setup/deploy_ecs.py`
    *   *Line 160*: Security Group creation for ECS Fargate tasks restricting access.

Document Classification: Internal Use
Review Cycle: Quarterly
Next Review Date: April 09, 2026
Approval: Digitspots Network Architect
